---
import PostCard from "../../ui/HomePostCard.astro"
import { formatBlogPosts } from "../../../scripts"

const posts = await Astro.glob('../../../pages/blog/*.md')
const formattedPosts = formatBlogPosts(posts, {
  filterOutDrafts: true,
  filterOutFuturePosts: true,
  sortByDate: false,
  categoryFilter: "GYCP",
  limit: 3,
})
---

<article class="flex flex-col items-center gap-[32px] ">
  <h2 class="text-[48px] font-bold">Publicaciones relacionadas</h2>
  <ul class="flex gap-[32px]">
    {formattedPosts.map((post, index)=>{
      return (
        <PostCard frontmatter={post.frontmatter} url={post.url} index={index}/>
      )
    })}
  </ul>
</article>
